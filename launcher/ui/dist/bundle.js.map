{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Root.tsx","webpack:///./src/index.tsx","webpack:///./src/polyfill.ts","webpack:///external \"React\"","webpack:///external \"ReactDOM\""],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.tsx\");\n","import * as React from \"react\";\r\n\r\nexport interface Props { }\r\nexport interface State {\r\n    state: server.State | null,\r\n}\r\n\r\nexport class Root extends React.Component<Props, State> {\r\n    interval: number;\r\n    constructor(props: Props, context?: any) {\r\n        super(props, context);\r\n        this.state = {\r\n            state: null,\r\n        };\r\n    }\r\n    componentWillMount() {\r\n        this.interval = setInterval(this.fetch.bind(this), 1000);\r\n        this.fetch();\r\n    }\r\n    fetch() {\r\n        fetch(\"/api/state\")\r\n            .then(r => r.json())\r\n            .then((r: server.State) => {\r\n                this.setState({\r\n                    state: r\r\n                });\r\n            });\r\n    }\r\n    render_running_build(build: server.RunningBuild, index: number): JSX.Element {\r\n        return <p key={index}>\r\n            <b>{build.build}</b><br />\r\n            <pre>{build.stdout}</pre>\r\n            <pre>{build.stderr}</pre>\r\n        </p>;\r\n    }\r\n    render_finished_build(build: server.FinishedBuild, index: number): JSX.Element {\r\n        return <p key={index}>\r\n            <b>{build.build}</b><br />\r\n            <pre>{build.stdout}</pre>\r\n            <pre>{build.stderr}</pre>\r\n        </p>;\r\n    }\r\n    render_process(process: server.RunningProcess, index: number) {\r\n        return <p key={index}>\r\n            <b>{process.directory}</b><br />\r\n            <pre>{process.stdout}</pre>\r\n            <pre>{process.stderr}</pre>\r\n        </p>;\r\n    }\r\n    render_project(project: server.Project, index: number) {\r\n        return <p key={index}><b>{project.name}</b> {project.builds.map(this.render_build.bind(this, project))}</p>;\r\n    }\r\n    render_build(project: server.Project, build: server.Build, index: number) {\r\n        return <button key={index} onClick={this.start_build.bind(this, project, build)}>{build.name}</button>;\r\n    }\r\n    start_build(project: server.Project, build: server.Build, ev: React.MouseEvent<HTMLButtonElement>) {\r\n        ev.preventDefault();\r\n        ev.stopPropagation();\r\n\r\n        fetch(\"/api/build/start/\" + project.name + \"/\" + build.name).then(r => r.text()).then(t => {\r\n            if(t != \"Ok\") {\r\n                alert(\"Could not start build\\n\" + t);\r\n            }\r\n        });\r\n\r\n        return false;\r\n    }\r\n    render() {\r\n        if (!this.state.state) return <></>;\r\n        return <>\r\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n                <div style={{width: '50%'}}>\r\n                    <h2>Processes:</h2>\r\n                    {this.state.state.running_processes.map(this.render_process.bind(this))}\r\n                </div>\r\n                <div style={{width: '50%'}}>\r\n                    {this.state.state.projects.map(this.render_project.bind(this))}\r\n                </div>\r\n            </div>\r\n            <div style={{ display: 'flex', flexDirection: 'row' }}>\r\n                <div style={{width: '50%'}}>\r\n                    <h2>Running:</h2>\r\n                    {this.state.state.running_builds.map(this.render_running_build.bind(this))}\r\n                </div>\r\n                <div style={{width: '50%'}}>\r\n                    <h2>Finished:</h2>\r\n                    {this.state.state.finished_builds.map(this.render_finished_build.bind(this))}\r\n                </div>\r\n            </div>\r\n        </>;\r\n    }\r\n}","import * as React from \"react\";\r\nimport * as ReactDOM from \"react-dom\";\r\n\r\nimport { Root } from \"./components/Root\";\r\n\r\ndeclare global {\r\n  interface Array<T> {\r\n    find(cb: (t: T, i: number, arr: Array<T>) => boolean): T | null;\r\n    findIndex(cb: (t: T, i: number, arr: Array<T>) => boolean): number | null;\r\n  }\r\n}\r\n\r\nimport \"./polyfill\";\r\nReactDOM.render(<Root />, document.getElementById(\"root\"));\r\n","\r\n\r\nif (!Array.prototype.find) {\r\n  Object.defineProperty(Array.prototype, \"find\", {\r\n    value: function<T>(predicate: (t: T, i: number, arr: Array<T>) => boolean) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== \"function\") {\r\n        throw new TypeError(\"predicate must be a function\");\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return kValue.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return kValue;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return undefined.\r\n      return undefined;\r\n    },\r\n    configurable: true,\r\n    writable: true\r\n  });\r\n}\r\nif (!Array.prototype.findIndex) {\r\n  Object.defineProperty(Array.prototype, \"findIndex\", {\r\n    value: function<T>(predicate: (t: T, i: number, arr: Array<T>) => boolean) {\r\n      // 1. Let O be ? ToObject(this value).\r\n      if (this == null) {\r\n        throw new TypeError('\"this\" is null or not defined');\r\n      }\r\n\r\n      var o = Object(this);\r\n\r\n      // 2. Let len be ? ToLength(? Get(O, \"length\")).\r\n      var len = o.length >>> 0;\r\n\r\n      // 3. If IsCallable(predicate) is false, throw a TypeError exception.\r\n      if (typeof predicate !== \"function\") {\r\n        throw new TypeError(\"predicate must be a function\");\r\n      }\r\n\r\n      // 4. If thisArg was supplied, let T be thisArg; else let T be undefined.\r\n      var thisArg = arguments[1];\r\n\r\n      // 5. Let k be 0.\r\n      var k = 0;\r\n\r\n      // 6. Repeat, while k < len\r\n      while (k < len) {\r\n        // a. Let Pk be ! ToString(k).\r\n        // b. Let kValue be ? Get(O, Pk).\r\n        // c. Let testResult be ToBoolean(? Call(predicate, T, « kValue, k, O »)).\r\n        // d. If testResult is true, return k.\r\n        var kValue = o[k];\r\n        if (predicate.call(thisArg, kValue, k, o)) {\r\n          return k;\r\n        }\r\n        // e. Increase k by 1.\r\n        k++;\r\n      }\r\n\r\n      // 7. Return -1.\r\n      return -1;\r\n    },\r\n    configurable: true,\r\n    writable: true\r\n  });\r\n}\r\n","module.exports = React;","module.exports = ReactDOM;"],"sourceRoot":""}